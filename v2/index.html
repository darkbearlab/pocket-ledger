<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>é›²ç«¯è¨˜å¸³æœ¬ v2</title>
    <style>
        /* --- æ¨£å¼è¨­å®š (ä¿æŒæ¥µç°¡é¢¨) --- */
        :root { --primary: #007AFF; --bg: #F2F2F7; --card-bg: #FFFFFF; --text-main: #000; --text-sub: #8E8E93; --income: #34C759; --expense: #FF3B30; }
        body { font-family: -apple-system, sans-serif; background: var(--bg); color: var(--text-main); margin: 0; height: 100vh; display: flex; flex-direction: column; overflow: hidden; }
        
        /* ç™»å…¥èˆ‡ä¸»ç•«é¢åˆ‡æ› */
        #login-area { position: absolute; top:0; left:0; width:100%; height:100%; background:var(--bg); z-index:1000; display:flex; justify-content:center; align-items:center; }
        #app-container { display:none; flex-direction:column; height:100%; }
        
        /* å…ƒä»¶æ¨£å¼ */
        .login-card { background:white; padding:40px; border-radius:20px; box-shadow:0 10px 30px rgba(0,0,0,0.1); text-align:center; width:80%; max-width:300px; }
        header { background:var(--card-bg); padding:15px 20px; padding-top:env(safe-area-inset-top, 20px); display:flex; justify-content:space-between; align-items:center; box-shadow:0 1px 0 rgba(0,0,0,0.05); }
        h1 { margin:0; font-size:18px; }
        .logout-btn { border:none; background:none; color:var(--primary); font-size:14px; }
        
        #scroll-area { flex:1; overflow-y:auto; padding:20px; padding-bottom:100px; }
        
        .balance-card { background:var(--card-bg); border-radius:16px; padding:25px; text-align:center; margin-bottom:25px; }
        .balance-amount { font-size:40px; font-weight:700; margin-top:5px; }
        
        .txn-item { background:var(--card-bg); padding:15px; margin-bottom:10px; border-radius:12px; display:flex; align-items:center; cursor:pointer; transition:0.2s; }
        .txn-item:active { background:#e5e5e5; transform:scale(0.98); }
        .txn-content { flex:1; display:flex; justify-content:space-between; align-items:center; margin-right:15px; }
        .txn-amount { font-size:18px; font-weight:600; }
        .income { color:var(--income); } .expense { color:var(--text-main); }
        
        .delete-btn { background:#ff3b3020; color:var(--expense); border:none; width:30px; height:30px; border-radius:15px; display:flex; justify-content:center; align-items:center; font-size:14px; }
        
        /* æ‡¸æµ®æŒ‰éˆ• */
        .fab { position:fixed; bottom:30px; right:30px; width:56px; height:56px; border-radius:50%; background:var(--primary); color:white; border:none; font-size:32px; box-shadow:0 4px 15px rgba(0,122,255,0.4); display:flex; justify-content:center; align-items:center; padding-bottom:4px; z-index:100; }
        
        /* å½ˆå‡ºè¦–çª— */
        #modal-overlay { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.4); z-index:200; align-items:flex-end; backdrop-filter:blur(2px); }
        .modal-card { background:var(--card-bg); width:100%; border-radius:20px 20px 0 0; padding:25px; padding-bottom:50px; animation:slideUp 0.3s; }
        @keyframes slideUp { from { transform:translateY(100%); } to { transform:translateY(0); } }
        
        input, select { width:100%; padding:12px; border-radius:10px; border:1px solid #eee; background:#f9f9f9; font-size:16px; box-sizing:border-box; margin-bottom:15px; }
        .btn-group { display:flex; gap:10px; margin-top:10px; }
        .btn { flex:1; padding:14px; border-radius:10px; border:none; font-size:16px; font-weight:600; }
        .btn-primary { background:var(--primary); color:white; }
        .btn-cancel { background:#eee; color:#333; }
    </style>
</head>
<body>

    <div id="login-area">
        <div class="login-card">
            <h2>â˜ï¸ è¨˜å¸³æœ¬ v2</h2>
            <button id="btn-login" class="btn btn-primary" style="width:100%">Google ç™»å…¥</button>
        </div>
    </div>

    <div id="app-container">
        <header>
            <h1 id="header-title">My Ledger</h1>
            <button id="btn-logout" class="logout-btn">ç™»å‡º</button>
        </header>

        <div id="scroll-area">
            <div class="balance-card">
                <div style="color:#888; font-size:14px; margin-bottom:5px">æœ¬æœˆçµé¤˜</div>
                <div class="balance-amount" id="total-balance">$0</div>
            </div>

            <div style="display:flex; justify-content:space-between; margin-bottom:15px;">
                <h3 style="margin:0; color:#888;">è¿‘æœŸç´€éŒ„</h3>
                <input type="month" id="filter-month">
            </div>

            <ul id="txn-list" style="list-style:none; padding:0;">
                <li style="text-align:center; color:#ccc; margin-top:20px;">è¼‰å…¥ä¸­...</li>
            </ul>
        </div>

        <button class="fab" id="btn-open-modal">+</button>
    </div>

    <div id="modal-overlay">
        <div class="modal-card">
            <h2 id="modal-title" style="margin:0 0 20px 0;">è¨˜ä¸€ç­†</h2>
            
            <select id="inp-type">
                <option value="expense">ğŸ’¸ æ”¯å‡º</option>
                <option value="income">ğŸ’° æ”¶å…¥</option>
            </select>
            
            <input type="date" id="inp-date">
            <input type="text" id="inp-title" placeholder="é …ç›®åç¨± (å¦‚: åˆé¤)">
            <input type="number" id="inp-amount" placeholder="é‡‘é¡">

            <div class="btn-group">
                <button class="btn btn-cancel" id="btn-close-modal">å–æ¶ˆ</button>
                <button class="btn btn-primary" id="btn-save-txn">å„²å­˜</button>
            </div>
        </div>
    </div>

    <script type="module" src="./app.js"></script>
</body>
</html>
